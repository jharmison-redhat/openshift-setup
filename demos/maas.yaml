---
applications:
  - name: aws-nvidia-gpu-machinesets
    fileprefix: h100
    rewrite:
      metadata:
        name: machineset-h100
    values:
      instanceType: p5.4xlarge
      desiredReplicas: 0
      baseName: worker-h100
      taints:
        - key: nvidia.com/gpu
          value: h100
          effect: NoSchedule
      nodeLabels:
        node-role.kubernetes.io/gpu: ""
        jharmison.dev/gpu-type: h100
        gpu-class: large
  - name: aws-nvidia-gpu-machinesets
    fileprefix: l40s
    rewrite:
      metadata:
        name: machineset-l40s
    values:
      instanceType: g6e.2xlarge
      desiredReplicas: 2
      baseName: worker-l40s
      taints:
        - key: nvidia.com/gpu
          value: l40s
          effect: NoSchedule
      nodeLabels:
        node-role.kubernetes.io/gpu: ""
        jharmison.dev/gpu-type: l40s
        gpu-class: medium
  - name: nvidia-gpu-enablement
  - name: keycloak-auth
rawApplications:
  - name: maas-bootstrap
    namespace: openshift-gitops
    source:
      path: bootstrap/applications
      repoURL: git@github.com:rh-aiservices-bu/nvidia-redhat-blueprint-maas.git
      targetRevision: feat/initial-prep-pass
    sync_wave: 3
    values:
      user:
        count: 5
      bootstrap:
        repoURL: git@github.com:rh-aiservices-bu/nvidia-redhat-blueprint-maas.git
        targetRevision: feat/initial-prep-pass
      slackMcpSecret:
        enabled: false
      deployer:
        apiUrl: https://api.${CLUSTER_URL}:6443
        domain: apps.${CLUSTER_URL}
        wildcardCertName: router-cert
